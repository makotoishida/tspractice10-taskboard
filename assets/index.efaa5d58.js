var et=Object.defineProperty,it=Object.defineProperties;var st=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var O=(e,t,i)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,m=(e,t)=>{for(var i in t||(t={}))nt.call(t,i)&&O(e,i,t[i]);if(B)for(var i of B(t))ot.call(t,i)&&O(e,i,t[i]);return e},R=(e,t)=>it(e,st(t));const rt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};rt();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var M;const D=globalThis.trustedTypes,U=D?D.createPolicy("lit-html",{createHTML:e=>e}):void 0,g=`lit$${(Math.random()+"").slice(9)}$`,K="?"+g,lt=`<${K}>`,T=document,L=(e="")=>T.createComment(e),w=e=>e===null||typeof e!="object"&&typeof e!="function",Q=Array.isArray,at=e=>{var t;return Q(e)||typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},H=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W=/-->/g,z=/>/g,_=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,q=/'/g,F=/"/g,G=/^(?:script|style|textarea|title)$/i,dt=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),x=dt(1),j=Symbol.for("lit-noChange"),p=Symbol.for("lit-nothing"),V=new WeakMap,ct=(e,t,i)=>{var n,s;const r=(n=i==null?void 0:i.renderBefore)!==null&&n!==void 0?n:t;let o=r._$litPart$;if(o===void 0){const d=(s=i==null?void 0:i.renderBefore)!==null&&s!==void 0?s:null;r._$litPart$=o=new C(t.insertBefore(L(),d),d,void 0,i!=null?i:{})}return o._$AI(e),o},y=T.createTreeWalker(T,129,null,!1),ut=(e,t)=>{const i=e.length-1,n=[];let s,r=t===2?"<svg>":"",o=H;for(let l=0;l<i;l++){const a=e[l];let f,c,u=-1,$=0;for(;$<a.length&&(o.lastIndex=$,c=o.exec(a),c!==null);)$=o.lastIndex,o===H?c[1]==="!--"?o=W:c[1]!==void 0?o=z:c[2]!==void 0?(G.test(c[2])&&(s=RegExp("</"+c[2],"g")),o=_):c[3]!==void 0&&(o=_):o===_?c[0]===">"?(o=s!=null?s:H,u=-1):c[1]===void 0?u=-2:(u=o.lastIndex-c[2].length,f=c[1],o=c[3]===void 0?_:c[3]==='"'?F:q):o===F||o===q?o=_:o===W||o===z?o=H:(o=_,s=void 0);const v=o===_&&e[l+1].startsWith("/>")?" ":"";r+=o===H?a+lt:u>=0?(n.push(f),a.slice(0,u)+"$lit$"+a.slice(u)+g+v):a+g+(u===-2?(n.push(void 0),l):v)}const d=r+(e[i]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[U!==void 0?U.createHTML(d):d,n]};class N{constructor({strings:t,_$litType$:i},n){let s;this.parts=[];let r=0,o=0;const d=t.length-1,l=this.parts,[a,f]=ut(t,i);if(this.el=N.createElement(a,n),y.currentNode=this.el.content,i===2){const c=this.el.content,u=c.firstChild;u.remove(),c.append(...u.childNodes)}for(;(s=y.nextNode())!==null&&l.length<d;){if(s.nodeType===1){if(s.hasAttributes()){const c=[];for(const u of s.getAttributeNames())if(u.endsWith("$lit$")||u.startsWith(g)){const $=f[o++];if(c.push(u),$!==void 0){const v=s.getAttribute($.toLowerCase()+"$lit$").split(g),A=/([.?@])?(.*)/.exec($);l.push({type:1,index:r,name:A[2],strings:v,ctor:A[1]==="."?pt:A[1]==="?"?ft:A[1]==="@"?At:I})}else l.push({type:6,index:r})}for(const u of c)s.removeAttribute(u)}if(G.test(s.tagName)){const c=s.textContent.split(g),u=c.length-1;if(u>0){s.textContent=D?D.emptyScript:"";for(let $=0;$<u;$++)s.append(c[$],L()),y.nextNode(),l.push({type:2,index:++r});s.append(c[u],L())}}}else if(s.nodeType===8)if(s.data===K)l.push({type:2,index:r});else{let c=-1;for(;(c=s.data.indexOf(g,c+1))!==-1;)l.push({type:7,index:r}),c+=g.length-1}r++}}static createElement(t,i){const n=T.createElement("template");return n.innerHTML=t,n}}function b(e,t,i=e,n){var s,r,o,d;if(t===j)return t;let l=n!==void 0?(s=i._$Cl)===null||s===void 0?void 0:s[n]:i._$Cu;const a=w(t)?void 0:t._$litDirective$;return(l==null?void 0:l.constructor)!==a&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),a===void 0?l=void 0:(l=new a(e),l._$AT(e,i,n)),n!==void 0?((o=(d=i)._$Cl)!==null&&o!==void 0?o:d._$Cl=[])[n]=l:i._$Cu=l),l!==void 0&&(t=b(e,l._$AS(e,t.values),l,n)),t}class ht{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:n},parts:s}=this._$AD,r=((i=t==null?void 0:t.creationScope)!==null&&i!==void 0?i:T).importNode(n,!0);y.currentNode=r;let o=y.nextNode(),d=0,l=0,a=s[0];for(;a!==void 0;){if(d===a.index){let f;a.type===2?f=new C(o,o.nextSibling,this,t):a.type===1?f=new a.ctor(o,a.name,a.strings,this,t):a.type===6&&(f=new gt(o,this,t)),this.v.push(f),a=s[++l]}d!==(a==null?void 0:a.index)&&(o=y.nextNode(),d++)}return r}m(t){let i=0;for(const n of this.v)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,i),i+=n.strings.length-2):n._$AI(t[i])),i++}}class C{constructor(t,i,n,s){var r;this.type=2,this._$AH=p,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=n,this.options=s,this._$Cg=(r=s==null?void 0:s.isConnected)===null||r===void 0||r}get _$AU(){var t,i;return(i=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&i!==void 0?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=b(this,t,i),w(t)?t===p||t==null||t===""?(this._$AH!==p&&this._$AR(),this._$AH=p):t!==this._$AH&&t!==j&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.k(t):at(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==p&&w(this._$AH)?this._$AA.nextSibling.data=t:this.k(T.createTextNode(t)),this._$AH=t}T(t){var i;const{values:n,_$litType$:s}=t,r=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=N.createElement(s.h,this.options)),s);if(((i=this._$AH)===null||i===void 0?void 0:i._$AD)===r)this._$AH.m(n);else{const o=new ht(r,this),d=o.p(this.options);o.m(n),this.k(d),this._$AH=o}}_$AC(t){let i=V.get(t.strings);return i===void 0&&V.set(t.strings,i=new N(t)),i}S(t){Q(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let n,s=0;for(const r of t)s===i.length?i.push(n=new C(this.M(L()),this.M(L()),this,this.options)):n=i[s],n._$AI(r),s++;s<i.length&&(this._$AR(n&&n._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,i);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var i;this._$AM===void 0&&(this._$Cg=t,(i=this._$AP)===null||i===void 0||i.call(this,t))}}class I{constructor(t,i,n,s,r){this.type=1,this._$AH=p,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=p}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,n,s){const r=this.strings;let o=!1;if(r===void 0)t=b(this,t,i,0),o=!w(t)||t!==this._$AH&&t!==j,o&&(this._$AH=t);else{const d=t;let l,a;for(t=r[0],l=0;l<r.length-1;l++)a=b(this,d[n+l],i,l),a===j&&(a=this._$AH[l]),o||(o=!w(a)||a!==this._$AH[l]),a===p?t=p:t!==p&&(t+=(a!=null?a:"")+r[l+1]),this._$AH[l]=a}o&&!s&&this.C(t)}C(t){t===p?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class pt extends I{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===p?void 0:t}}const $t=D?D.emptyScript:"";class ft extends I{constructor(){super(...arguments),this.type=4}C(t){t&&t!==p?this.element.setAttribute(this.name,$t):this.element.removeAttribute(this.name)}}class At extends I{constructor(t,i,n,s,r){super(t,i,n,s,r),this.type=5}_$AI(t,i=this){var n;if((t=(n=b(this,t,i,0))!==null&&n!==void 0?n:p)===j)return;const s=this._$AH,r=t===p&&s!==p||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==p&&(s===p||r);r&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,n;typeof this._$AH=="function"?this._$AH.call((n=(i=this.options)===null||i===void 0?void 0:i.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}}class gt{constructor(t,i,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){b(this,t)}}const Y=window.litHtmlPolyfillSupport;Y==null||Y(N,C),((M=globalThis.litHtmlVersions)!==null&&M!==void 0?M:globalThis.litHtmlVersions=[]).push("2.2.2");function vt(e){return`0${e}`.slice(-2)}function mt(e){return e?`${e.getMonth()+1}/${e.getDate()}/${vt(e.getFullYear())}`:""}function S(){return Date.now()+Math.random()+""}let h,k;function _t(e,t){return h=m({},e),k=t,k(h),{state:h}}function kt(e){e!==h.currentProject&&(h=R(m({},h),{currentProject:e}),k(h))}function yt(e,t){let i,n,s=-1;return e.lanes.forEach(r=>{const o=r.tasks.findIndex(d=>d.id===t);o>=0&&(i=r,s=o,n=r.tasks[o])}),{lane:i,task:n,taskIndex:s}}function X(e,t,i){h=m({},h);const{currentProject:n}=h,{lane:s,task:r,taskIndex:o}=yt(n,e);if(!s||!r)return;const d=n.lanes.find(a=>a.id===t);if(!d)return;let l=-1;i&&(l=d.tasks.findIndex(a=>a.id===i)),console.log("beforeTaskIndex=",l),s.tasks.splice(o,1),s===d&&o<=l&&(l--,console.log("Adjusted: beforeTaskIndex=",l)),l>=0?d.tasks.splice(l,0,r):d.tasks.push(r),k(h)}function Dt(e){h=m({},h);const{currentProject:t}=h,i=t.lanes.find(s=>s.id===e);if(!i)return;const n={id:S(),title:"New task",description:""};i.tasks.push(n),k(h)}function Tt(){h=m({},h);const{currentProject:e}=h,t={id:S(),title:"New Lane",tasks:[]};e.lanes.push(t),k(h)}function xt(){h=m({},h);const e={id:S(),title:"New Project",lanes:[]};h.projects.push(e),k(h)}function bt(e){return x`<div
    data-id="${e.id}"
    class="task"
    draggable="true"
    @dragstart=${jt}
    @dragenter=${Nt}
    @dragover=${Pt}
    @dragleave=${Ct}
    @drop=${It}
  >
    <h4 class="task-title">${e.title}</h4>
    <div class="task-description">${e.description}</div>
    <div class="task-due">${mt(e.dueDate)}</div>
  </div>`}function Ht(e){return x`<div data-id="${e.id}" class="lane">
    <div class="lane-title">
      <h4>${e.title}</h4>
      <button @click=${()=>Dt(e.id)}>+</button>
    </div>
    <div
      class="tasks"
      @dragenter=${Mt}
      @dragover=${t=>Z(t,!0)}
      @dragleave=${t=>Z(t,!1)}
      @drop=${t=>St(t)}
    >
      ${e.tasks.map(t=>bt(t))}
    </div>
  </div>`}function Lt(e){const t=e.currentProject;return x`<div data-id="${t.id}" class="project">
    <div class="project-title">
      <h3>${t.title}</h3>
      <button @click=${()=>Tt()}>+ Lane</button>
    </div>
    <div class="lanes">${t.lanes.map(i=>Ht(i))}</div>
  </div> `}function wt({projects:e,currentProject:t}){return x`
    <div class="project-selector">
      ${e.map(i=>x`<div
            class="project ${i===t?"active":""}"
            @click=${()=>kt(i)}
          >
            ${i.title}
          </div>`)}
      <button @click=${()=>xt()}>+ Project</button>
    </div>
  `}let E=null,P=null;function jt(e){var i;const t=(i=e==null?void 0:e.target)==null?void 0:i.dataset.id;e.dataTransfer&&(e.dataTransfer.setData("text/plain",t),e.dataTransfer.effectAllowed="move",E=e==null?void 0:e.target)}function Nt(e){e.preventDefault(),P=e.target.closest(".task")}function Pt(e){e.preventDefault();const t=e.target.closest(".task");if(E===t)return;t.classList.remove("over-top","over-bottom");const i=t.getBoundingClientRect();e.clientY-i.top<t.clientHeight/2?t.classList.add("over-top"):t.classList.add("over-bottom")}function Ct(e){e.preventDefault(),e.target.closest(".task").classList.remove("over-top","over-bottom")}function It(e){var d,l,a,f,c,u;if(e.preventDefault(),P=null,![...(l=(d=e==null?void 0:e.dataTransfer)==null?void 0:d.types)!=null?l:[]].includes("text/plain"))return;const t=(a=e==null?void 0:e.dataTransfer)==null?void 0:a.getData("text/plain");if(!t)return;const i=e.target.closest(".task");if(E===i)return;let n=i.dataset.id;if(i.classList.remove("over-top","over-bottom"),t===n)return;const s=i.getBoundingClientRect();if(!(e.clientY-s.top<i.clientHeight/2)){const $=Array.from((c=(f=i.parentElement)==null?void 0:f.querySelectorAll(".task"))!=null?c:[]),v=$.findIndex(tt=>tt===i),A=v>=0?$[v+1]:void 0;n=(u=A==null?void 0:A.dataset)==null?void 0:u.id}if(t===n)return;const o=i.closest(".lane").dataset.id;X(t,o,n)}function Mt(e){e.preventDefault(),e.target.closest(".tasks").classList.add("over"),P=e.target}function Z(e,t){e.preventDefault();const i=e.target.closest(".tasks");t?i.classList.add("over"):i.classList.remove("over")}function St(e){var s,r,o,d,l;if(e.preventDefault(),![...(r=(s=e==null?void 0:e.dataTransfer)==null?void 0:s.types)!=null?r:[]].includes("text/plain"))return;const t=e.target.closest(".tasks");if(t.classList.remove("over"),P!==t)return;P=null;const i=(o=e==null?void 0:e.dataTransfer)==null?void 0:o.getData("text/plain");if(!i)return;const n=(l=(d=t.closest(".lane"))==null?void 0:d.dataset)==null?void 0:l.id;X(i,n)}var J=[{id:"project-1",title:"Project 1",lanes:[{id:"lane-1-1",title:"To Do",tasks:[{id:"t10905",title:"Task 1",description:"Desc 1"},{id:"t10906",title:"Task 2",description:"Desc 2",dueDate:new Date(2022,5,12)}]},{id:"lane-1-2",title:"Doing",tasks:[{id:"t10907",title:"AAAAAA",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-1-3",title:"Done",tasks:[{id:"t10908",title:"Task 0",description:"000000"},{id:"t10909",title:"MPMPMPMPmpmpmp",description:"Djkfjdksajfkdsam dsadsa"}]}]},{id:"project-2",title:"Project 2",lanes:[{id:"lane-2-1",title:"To Do",tasks:[{id:"t132321",title:"Create FAQ page",description:"Desc 1"},{id:"t132323",title:"Write a review",description:"Djkfjdksajfkdsam dsadsa",dueDate:new Date(2022,4,1)}]},{id:"lane-2-2",title:"Doing",tasks:[{id:"t132322",title:"Create landing page",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-2-3",title:"Done",tasks:[]}]},{id:"PROJECT 333",title:"THIS IS A TEST",lanes:[]}];function Et(e){return x`<div>${wt(e)} ${Lt(e)}</div>`}function Bt(e){const t=document.querySelector("#app");ct(Et(e),t)}_t({projects:J,currentProject:J[0]},Bt);
