var X=Object.defineProperty,tt=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var E=(s,t,e)=>t in s?X(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,M=(s,t)=>{for(var e in t||(t={}))st.call(t,e)&&E(s,e,t[e]);if(j)for(var e of j(t))it.call(t,e)&&E(s,e,t[e]);return s},B=(s,t)=>tt(s,et(t));const nt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}};nt();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var P;const y=globalThis.trustedTypes,O=y?y.createPolicy("lit-html",{createHTML:s=>s}):void 0,v=`lit$${(Math.random()+"").slice(9)}$`,Z="?"+v,ot=`<${Z}>`,k=document,H=(s="")=>k.createComment(s),b=s=>s===null||typeof s!="object"&&typeof s!="function",J=Array.isArray,rt=s=>{var t;return J(s)||typeof((t=s)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},x=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R=/-->/g,U=/>/g,_=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,W=/'/g,z=/"/g,K=/^(?:script|style|textarea|title)$/i,lt=s=>(t,...e)=>({_$litType$:s,strings:t,values:e}),D=lt(1),L=Symbol.for("lit-noChange"),h=Symbol.for("lit-nothing"),q=new WeakMap,at=(s,t,e)=>{var n,i;const r=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t;let o=r._$litPart$;if(o===void 0){const d=(i=e==null?void 0:e.renderBefore)!==null&&i!==void 0?i:null;r._$litPart$=o=new N(t.insertBefore(H(),d),d,void 0,e!=null?e:{})}return o._$AI(s),o},m=k.createTreeWalker(k,129,null,!1),dt=(s,t)=>{const e=s.length-1,n=[];let i,r=t===2?"<svg>":"",o=x;for(let l=0;l<e;l++){const a=s[l];let $,c,u=-1,p=0;for(;p<a.length&&(o.lastIndex=p,c=o.exec(a),c!==null);)p=o.lastIndex,o===x?c[1]==="!--"?o=R:c[1]!==void 0?o=U:c[2]!==void 0?(K.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=_):c[3]!==void 0&&(o=_):o===_?c[0]===">"?(o=i!=null?i:x,u=-1):c[1]===void 0?u=-2:(u=o.lastIndex-c[2].length,$=c[1],o=c[3]===void 0?_:c[3]==='"'?z:W):o===z||o===W?o=_:o===R||o===U?o=x:(o=_,i=void 0);const g=o===_&&s[l+1].startsWith("/>")?" ":"";r+=o===x?a+ot:u>=0?(n.push($),a.slice(0,u)+"$lit$"+a.slice(u)+v+g):a+v+(u===-2?(n.push(void 0),l):g)}const d=r+(s[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return[O!==void 0?O.createHTML(d):d,n]};class C{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let r=0,o=0;const d=t.length-1,l=this.parts,[a,$]=dt(t,e);if(this.el=C.createElement(a,n),m.currentNode=this.el.content,e===2){const c=this.el.content,u=c.firstChild;u.remove(),c.append(...u.childNodes)}for(;(i=m.nextNode())!==null&&l.length<d;){if(i.nodeType===1){if(i.hasAttributes()){const c=[];for(const u of i.getAttributeNames())if(u.endsWith("$lit$")||u.startsWith(v)){const p=$[o++];if(c.push(u),p!==void 0){const g=i.getAttribute(p.toLowerCase()+"$lit$").split(v),A=/([.?@])?(.*)/.exec(p);l.push({type:1,index:r,name:A[2],strings:g,ctor:A[1]==="."?ut:A[1]==="?"?pt:A[1]==="@"?$t:w})}else l.push({type:6,index:r})}for(const u of c)i.removeAttribute(u)}if(K.test(i.tagName)){const c=i.textContent.split(v),u=c.length-1;if(u>0){i.textContent=y?y.emptyScript:"";for(let p=0;p<u;p++)i.append(c[p],H()),m.nextNode(),l.push({type:2,index:++r});i.append(c[u],H())}}}else if(i.nodeType===8)if(i.data===Z)l.push({type:2,index:r});else{let c=-1;for(;(c=i.data.indexOf(v,c+1))!==-1;)l.push({type:7,index:r}),c+=v.length-1}r++}}static createElement(t,e){const n=k.createElement("template");return n.innerHTML=t,n}}function T(s,t,e=s,n){var i,r,o,d;if(t===L)return t;let l=n!==void 0?(i=e._$Cl)===null||i===void 0?void 0:i[n]:e._$Cu;const a=b(t)?void 0:t._$litDirective$;return(l==null?void 0:l.constructor)!==a&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),a===void 0?l=void 0:(l=new a(s),l._$AT(s,e,n)),n!==void 0?((o=(d=e)._$Cl)!==null&&o!==void 0?o:d._$Cl=[])[n]=l:e._$Cu=l),l!==void 0&&(t=T(s,l._$AS(s,t.values),l,n)),t}class ct{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:n},parts:i}=this._$AD,r=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:k).importNode(n,!0);m.currentNode=r;let o=m.nextNode(),d=0,l=0,a=i[0];for(;a!==void 0;){if(d===a.index){let $;a.type===2?$=new N(o,o.nextSibling,this,t):a.type===1?$=new a.ctor(o,a.name,a.strings,this,t):a.type===6&&($=new ft(o,this,t)),this.v.push($),a=i[++l]}d!==(a==null?void 0:a.index)&&(o=m.nextNode(),d++)}return r}m(t){let e=0;for(const n of this.v)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class N{constructor(t,e,n,i){var r;this.type=2,this._$AH=h,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cg=(r=i==null?void 0:i.isConnected)===null||r===void 0||r}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&t.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=T(this,t,e),b(t)?t===h||t==null||t===""?(this._$AH!==h&&this._$AR(),this._$AH=h):t!==this._$AH&&t!==L&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.k(t):rt(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==h&&b(this._$AH)?this._$AA.nextSibling.data=t:this.k(k.createTextNode(t)),this._$AH=t}T(t){var e;const{values:n,_$litType$:i}=t,r=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=C.createElement(i.h,this.options)),i);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===r)this._$AH.m(n);else{const o=new ct(r,this),d=o.p(this.options);o.m(n),this.k(d),this._$AH=o}}_$AC(t){let e=q.get(t.strings);return e===void 0&&q.set(t.strings,e=new C(t)),e}S(t){J(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const r of t)i===e.length?e.push(n=new N(this.M(H()),this.M(H()),this,this.options)):n=e[i],n._$AI(r),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,e);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var e;this._$AM===void 0&&(this._$Cg=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}}class w{constructor(t,e,n,i,r){this.type=1,this._$AH=h,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=h}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const r=this.strings;let o=!1;if(r===void 0)t=T(this,t,e,0),o=!b(t)||t!==this._$AH&&t!==L,o&&(this._$AH=t);else{const d=t;let l,a;for(t=r[0],l=0;l<r.length-1;l++)a=T(this,d[n+l],e,l),a===L&&(a=this._$AH[l]),o||(o=!b(a)||a!==this._$AH[l]),a===h?t=h:t!==h&&(t+=(a!=null?a:"")+r[l+1]),this._$AH[l]=a}o&&!i&&this.C(t)}C(t){t===h?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class ut extends w{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===h?void 0:t}}const ht=y?y.emptyScript:"";class pt extends w{constructor(){super(...arguments),this.type=4}C(t){t&&t!==h?this.element.setAttribute(this.name,ht):this.element.removeAttribute(this.name)}}class $t extends w{constructor(t,e,n,i,r){super(t,e,n,i,r),this.type=5}_$AI(t,e=this){var n;if((t=(n=T(this,t,e,0))!==null&&n!==void 0?n:h)===L)return;const i=this._$AH,r=t===h&&i!==h||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==h&&(i===h||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;typeof this._$AH=="function"?this._$AH.call((n=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&n!==void 0?n:this.element,t):this._$AH.handleEvent(t)}}class ft{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){T(this,t)}}const F=window.litHtmlPolyfillSupport;F==null||F(C,N),((P=globalThis.litHtmlVersions)!==null&&P!==void 0?P:globalThis.litHtmlVersions=[]).push("2.2.2");let f,S;function At(s,t){return f=M({},s),S=t,S(f),{state:f}}function vt(s){s!==f.currentProject&&(f=B(M({},f),{currentProject:s}),S(f))}function gt(s,t){let e,n,i=-1;return s.lanes.forEach(r=>{const o=r.tasks.findIndex(d=>d.id===t);o>=0&&(e=r,i=o,n=r.tasks[o])}),{lane:e,task:n,taskIndex:i}}function Q(s,t,e){f=M({},f);const{currentProject:n}=f,{lane:i,task:r,taskIndex:o}=gt(n,s);if(!i||!r)return;const d=n.lanes.find(a=>a.id===t);if(!d)return;let l=-1;e&&(l=d.tasks.findIndex(a=>a.id===e)),console.log("beforeTaskIndex=",l),i.tasks.splice(o,1),i===d&&o<=l&&(l--,console.log("Adjusted: beforeTaskIndex=",l)),l>=0?d.tasks.splice(l,0,r):d.tasks.push(r),S(f)}function _t(s){return`0${s}`.slice(-2)}function mt(s){return s?`${s.getMonth()+1}/${s.getDate()}/${_t(s.getFullYear())}`:""}function yt(s){return D`<div
    data-id="${s.id}"
    class="task"
    draggable="true"
    @dragstart=${xt}
    @dragenter=${Ht}
    @dragover=${bt}
    @dragleave=${Lt}
    @drop=${Ct}
  >
    <h4 class="task-title">${s.title}</h4>
    <div class="task-description">${s.description}</div>
    <div class="task-due">${mt(s.dueDate)}</div>
  </div>`}function kt(s){return D`<div data-id="${s.id}" class="lane">
    <h4 class="lane-title">${s.title}</h4>
    <div
      class="tasks"
      @dragenter=${It}
      @dragover=${t=>V(t,!0)}
      @dragleave=${t=>V(t,!1)}
      @drop=${t=>Nt(t)}
    >
      ${s.tasks.map(t=>yt(t))}
    </div>
  </div>`}function Dt(s){const t=s.currentProject;return D`<div data-id="${t.id}" class="project">
    <h3 class="project-title">${t.title}</h3>
    <div class="lanes">${t.lanes.map(e=>kt(e))}</div>
  </div> `}function Tt({projects:s,currentProject:t}){return D`
    <div class="project-selector">
      ${s.map(e=>D`<div
            class="project ${e===t?"active":""}"
            @click=${()=>vt(e)}
          >
            ${e.title}
          </div>`)}
    </div>
  `}let I=null;function xt(s){var e;const t=(e=s==null?void 0:s.target)==null?void 0:e.dataset.id;s.dataTransfer&&(s.dataTransfer.setData("text/plain",t),s.dataTransfer.effectAllowed="move")}function Ht(s){s.preventDefault(),I=s.target.closest(".task")}function bt(s){s.preventDefault();const t=s.target.closest(".task");t.classList.remove("over-top","over-bottom");const e=t.getBoundingClientRect();s.clientY-e.top<t.clientHeight/2?t.classList.add("over-top"):t.classList.add("over-bottom")}function Lt(s){s.preventDefault(),s.target.closest(".task").classList.remove("over-top","over-bottom")}function Ct(s){var d,l,a,$,c,u;if(s.preventDefault(),I=null,![...(l=(d=s==null?void 0:s.dataTransfer)==null?void 0:d.types)!=null?l:[]].includes("text/plain"))return;const t=(a=s==null?void 0:s.dataTransfer)==null?void 0:a.getData("text/plain");if(!t)return;const e=s.target.closest(".task");let n=e.dataset.id;if(console.log("onTaskDrop",t,n),e.classList.remove("over-top","over-bottom"),t===n)return;const i=e.getBoundingClientRect();if(!(s.clientY-i.top<e.clientHeight/2)){const p=Array.from((c=($=e.parentElement)==null?void 0:$.querySelectorAll(".task"))!=null?c:[]),g=p.findIndex(G=>G===e),A=g>=0?p[g+1]:void 0;n=(u=A==null?void 0:A.dataset)==null?void 0:u.id}if(t===n)return;const o=e.closest(".lane").dataset.id;Q(t,o,n)}function It(s){s.preventDefault(),s.target.closest(".tasks").classList.add("over"),I=s.target}function V(s,t){s.preventDefault();const e=s.target.closest(".tasks");t?e.classList.add("over"):e.classList.remove("over")}function Nt(s){var i,r,o,d,l;if(s.preventDefault(),![...(r=(i=s==null?void 0:s.dataTransfer)==null?void 0:i.types)!=null?r:[]].includes("text/plain"))return;const t=s.target.closest(".tasks");if(t.classList.remove("over"),I!==t)return;I=null;const e=(o=s==null?void 0:s.dataTransfer)==null?void 0:o.getData("text/plain");if(!e)return;const n=(l=(d=t.closest(".lane"))==null?void 0:d.dataset)==null?void 0:l.id;Q(e,n)}var Y=[{id:"project-1",title:"Project 1",lanes:[{id:"lane-1-1",title:"To Do",tasks:[{id:"t10905",title:"Task 1",description:"Desc 1"},{id:"t10906",title:"Task 2",description:"Desc 2",dueDate:new Date(2022,5,12)}]},{id:"lane-1-2",title:"Doing",tasks:[{id:"t10907",title:"AAAAAA",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-1-3",title:"Done",tasks:[{id:"t10908",title:"Task 0",description:"000000"},{id:"t10909",title:"MPMPMPMPmpmpmp",description:"Djkfjdksajfkdsam dsadsa"}]}]},{id:"project-2",title:"Project 2",lanes:[{id:"lane-2-1",title:"To Do",tasks:[{id:"t132321",title:"Create FAQ page",description:"Desc 1"},{id:"t132323",title:"Write a review",description:"Djkfjdksajfkdsam dsadsa",dueDate:new Date(2022,4,1)}]},{id:"lane-2-2",title:"Doing",tasks:[{id:"t132322",title:"Create landing page",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-2-3",title:"Done",tasks:[]}]},{id:"PROJECT 333",title:"THIS IS A TEST",lanes:[]}];function Mt(s){return D`<div>${Tt(s)} ${Dt(s)}</div>`}function St(s){const t=document.querySelector("#app");at(Mt(s),t)}At({projects:Y,currentProject:Y[0]},St);
