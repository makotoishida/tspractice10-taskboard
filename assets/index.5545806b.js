var G=Object.defineProperty,X=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var E=(o,t,i)=>t in o?G(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i,S=(o,t)=>{for(var i in t||(t={}))et.call(t,i)&&E(o,i,t[i]);if(I)for(var i of I(t))it.call(t,i)&&E(o,i,t[i]);return o},B=(o,t)=>X(o,tt(t));const st=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};st();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var L;const _=globalThis.trustedTypes,R=_?_.createPolicy("lit-html",{createHTML:o=>o}):void 0,A=`lit$${(Math.random()+"").slice(9)}$`,Z="?"+A,nt=`<${Z}>`,y=document,x=(o="")=>y.createComment(o),H=o=>o===null||typeof o!="object"&&typeof o!="function",J=Array.isArray,ot=o=>{var t;return J(o)||typeof((t=o)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},T=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,O=/-->/g,U=/>/g,g=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,W=/'/g,q=/"/g,K=/^(?:script|style|textarea|title)$/i,rt=o=>(t,...i)=>({_$litType$:o,strings:t,values:i}),D=rt(1),b=Symbol.for("lit-noChange"),$=Symbol.for("lit-nothing"),z=new WeakMap,lt=(o,t,i)=>{var s,e;const r=(s=i==null?void 0:i.renderBefore)!==null&&s!==void 0?s:t;let n=r._$litPart$;if(n===void 0){const c=(e=i==null?void 0:i.renderBefore)!==null&&e!==void 0?e:null;r._$litPart$=n=new N(t.insertBefore(x(),c),c,void 0,i!=null?i:{})}return n._$AI(o),n},m=y.createTreeWalker(y,129,null,!1),at=(o,t)=>{const i=o.length-1,s=[];let e,r=t===2?"<svg>":"",n=T;for(let l=0;l<i;l++){const a=o[l];let u,d,h=-1,p=0;for(;p<a.length&&(n.lastIndex=p,d=n.exec(a),d!==null);)p=n.lastIndex,n===T?d[1]==="!--"?n=O:d[1]!==void 0?n=U:d[2]!==void 0?(K.test(d[2])&&(e=RegExp("</"+d[2],"g")),n=g):d[3]!==void 0&&(n=g):n===g?d[0]===">"?(n=e!=null?e:T,h=-1):d[1]===void 0?h=-2:(h=n.lastIndex-d[2].length,u=d[1],n=d[3]===void 0?g:d[3]==='"'?q:W):n===q||n===W?n=g:n===O||n===U?n=T:(n=g,e=void 0);const f=n===g&&o[l+1].startsWith("/>")?" ":"";r+=n===T?a+nt:h>=0?(s.push(u),a.slice(0,h)+"$lit$"+a.slice(h)+A+f):a+A+(h===-2?(s.push(void 0),l):f)}const c=r+(o[i]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return[R!==void 0?R.createHTML(c):c,s]};class C{constructor({strings:t,_$litType$:i},s){let e;this.parts=[];let r=0,n=0;const c=t.length-1,l=this.parts,[a,u]=at(t,i);if(this.el=C.createElement(a,s),m.currentNode=this.el.content,i===2){const d=this.el.content,h=d.firstChild;h.remove(),d.append(...h.childNodes)}for(;(e=m.nextNode())!==null&&l.length<c;){if(e.nodeType===1){if(e.hasAttributes()){const d=[];for(const h of e.getAttributeNames())if(h.endsWith("$lit$")||h.startsWith(A)){const p=u[n++];if(d.push(h),p!==void 0){const f=e.getAttribute(p.toLowerCase()+"$lit$").split(A),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:r,name:v[2],strings:f,ctor:v[1]==="."?ct:v[1]==="?"?ut:v[1]==="@"?pt:M})}else l.push({type:6,index:r})}for(const h of d)e.removeAttribute(h)}if(K.test(e.tagName)){const d=e.textContent.split(A),h=d.length-1;if(h>0){e.textContent=_?_.emptyScript:"";for(let p=0;p<h;p++)e.append(d[p],x()),m.nextNode(),l.push({type:2,index:++r});e.append(d[h],x())}}}else if(e.nodeType===8)if(e.data===Z)l.push({type:2,index:r});else{let d=-1;for(;(d=e.data.indexOf(A,d+1))!==-1;)l.push({type:7,index:r}),d+=A.length-1}r++}}static createElement(t,i){const s=y.createElement("template");return s.innerHTML=t,s}}function k(o,t,i=o,s){var e,r,n,c;if(t===b)return t;let l=s!==void 0?(e=i._$Cl)===null||e===void 0?void 0:e[s]:i._$Cu;const a=H(t)?void 0:t._$litDirective$;return(l==null?void 0:l.constructor)!==a&&((r=l==null?void 0:l._$AO)===null||r===void 0||r.call(l,!1),a===void 0?l=void 0:(l=new a(o),l._$AT(o,i,s)),s!==void 0?((n=(c=i)._$Cl)!==null&&n!==void 0?n:c._$Cl=[])[s]=l:i._$Cu=l),l!==void 0&&(t=k(o,l._$AS(o,t.values),l,s)),t}class dt{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,r=((i=t==null?void 0:t.creationScope)!==null&&i!==void 0?i:y).importNode(s,!0);m.currentNode=r;let n=m.nextNode(),c=0,l=0,a=e[0];for(;a!==void 0;){if(c===a.index){let u;a.type===2?u=new N(n,n.nextSibling,this,t):a.type===1?u=new a.ctor(n,a.name,a.strings,this,t):a.type===6&&(u=new $t(n,this,t)),this.v.push(u),a=e[++l]}c!==(a==null?void 0:a.index)&&(n=m.nextNode(),c++)}return r}m(t){let i=0;for(const s of this.v)s!==void 0&&(s.strings!==void 0?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var r;this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=(r=e==null?void 0:e.isConnected)===null||r===void 0||r}get _$AU(){var t,i;return(i=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&i!==void 0?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=k(this,t,i),H(t)?t===$||t==null||t===""?(this._$AH!==$&&this._$AR(),this._$AH=$):t!==this._$AH&&t!==b&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.k(t):ot(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==$&&H(this._$AH)?this._$AA.nextSibling.data=t:this.k(y.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,r=typeof e=="number"?this._$AC(t):(e.el===void 0&&(e.el=C.createElement(e.h,this.options)),e);if(((i=this._$AH)===null||i===void 0?void 0:i._$AD)===r)this._$AH.m(s);else{const n=new dt(r,this),c=n.p(this.options);n.m(s),this.k(c),this._$AH=n}}_$AC(t){let i=z.get(t.strings);return i===void 0&&z.set(t.strings,i=new C(t)),i}S(t){J(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const r of t)e===i.length?i.push(s=new N(this.M(x()),this.M(x()),this,this.options)):s=i[e],s._$AI(r),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,i);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var i;this._$AM===void 0&&(this._$Cg=t,(i=this._$AP)===null||i===void 0||i.call(this,t))}}class M{constructor(t,i,s,e,r){this.type=1,this._$AH=$,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=r,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=$}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const r=this.strings;let n=!1;if(r===void 0)t=k(this,t,i,0),n=!H(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const c=t;let l,a;for(t=r[0],l=0;l<r.length-1;l++)a=k(this,c[s+l],i,l),a===b&&(a=this._$AH[l]),n||(n=!H(a)||a!==this._$AH[l]),a===$?t=$:t!==$&&(t+=(a!=null?a:"")+r[l+1]),this._$AH[l]=a}n&&!e&&this.C(t)}C(t){t===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class ct extends M{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===$?void 0:t}}const ht=_?_.emptyScript:"";class ut extends M{constructor(){super(...arguments),this.type=4}C(t){t&&t!==$?this.element.setAttribute(this.name,ht):this.element.removeAttribute(this.name)}}class pt extends M{constructor(t,i,s,e,r){super(t,i,s,e,r),this.type=5}_$AI(t,i=this){var s;if((t=(s=k(this,t,i,0))!==null&&s!==void 0?s:$)===b)return;const e=this._$AH,r=t===$&&e!==$||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==$&&(e===$||r);r&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;typeof this._$AH=="function"?this._$AH.call((s=(i=this.options)===null||i===void 0?void 0:i.host)!==null&&s!==void 0?s:this.element,t):this._$AH.handleEvent(t)}}class $t{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){k(this,t)}}const V=window.litHtmlPolyfillSupport;V==null||V(C,N),((L=globalThis.litHtmlVersions)!==null&&L!==void 0?L:globalThis.litHtmlVersions=[]).push("2.2.2");function ft(o,t){let i=S({},o);t(i);function s(n){n!==i.currentProject&&(i=B(S({},i),{currentProject:n}),t(i))}function e(n,c){let l,a;return n.lanes.forEach(u=>{const d=u.tasks.find(h=>h.id===c);d&&(l=u,a=d)}),{lane:l,task:a}}function r(n,c,l){console.log("moveTask: ",n,c,l),i=S({},i);const{currentProject:a}=i,{lane:u,task:d}=e(a,n);if(console.log(a,u,d),!u||!d)return;const h=a.lanes.find(f=>f.id===c);if(!h)return;let p=-1;l&&(p=h.tasks.findIndex(f=>f.id===l)),u.tasks=u.tasks.filter(f=>f!==d),p>=0?h.tasks.splice(p,0,d):h.tasks.push(d),t(i)}return{state:i,setCurrentProject:s,moveTask:r}}var F=[{id:"project-1",title:"Project 1",lanes:[{id:"lane-1-1",title:"To Do",tasks:[{id:"t10905",title:"Task 1",description:"Desc 1"},{id:"t10906",title:"Task 2",description:"Desc 2",dueDate:new Date(2022,5,12)}]},{id:"lane-1-2",title:"Doing",tasks:[{id:"t10907",title:"AAAAAA",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-1-3",title:"Done",tasks:[{id:"t10908",title:"Task 0",description:"000000"},{id:"t10909",title:"MPMPMPMPmpmpmp",description:"Djkfjdksajfkdsam dsadsa"}]}]},{id:"project-2",title:"Project 2",lanes:[{id:"lane-2-1",title:"To Do",tasks:[{id:"t132321",title:"Create FAQ page",description:"Desc 1"},{id:"t132323",title:"Write a review",description:"Djkfjdksajfkdsam dsadsa",dueDate:new Date(2022,4,1)}]},{id:"lane-2-2",title:"Doing",tasks:[{id:"t132322",title:"Create landing page",description:"ADADADaDAAd dsad",dueDate:new Date(2022,4,30)}]},{id:"lane-2-3",title:"Done",tasks:[]}]},{id:"PROJECT 333",title:"THIS IS A TEST",lanes:[]}];function At(o){return D`<div data-id="${o.id}" class="task" draggable="true">
    <h4 class="task-title">${o.title}</h4>
    <div class="task-description">${o.description}</div>
    <div class="task-due">${o.dueDate}</div>
  </div>`}function vt(o){return D`<div data-id="${o.id}" class="lane">
    <h4 class="lane-title">${o.title}</h4>
    <div class="tasks">${o.tasks.map(t=>At(t))}</div>
  </div>`}function gt(o){return D`<div data-id="${o.id}" class="project">
    <h3 class="project-title">${o.title}</h3>
    <div class="lanes">${o.lanes.map(t=>vt(t))}</div>
  </div> `}function mt(o,t){return D`
    <div class="project-selector">
      ${o.map(i=>D`<div
            class="project ${i===t?"active":""}"
            @click=${()=>kt(i)}
          >
            ${i.title}
          </div>`)}
    </div>
  `}function _t({projects:o,currentProject:t}){return D`<div>
    ${mt(o,t)} ${gt(t)}
  </div>`}function yt(o){lt(_t(o),Dt),Tt()}const Dt=document.querySelector("#app"),{setCurrentProject:kt,moveTask:Y}=ft({projects:F,currentProject:F[0]},o=>yt(o));function Tt(){const o=document.querySelectorAll(".task[draggable=true]"),t=document.querySelectorAll(".lane");let i=null;o.forEach(s=>{s.ondragstart=e=>{var n,c;const r=(c=(n=e==null?void 0:e.target)==null?void 0:n.dataset.id)!=null?c:"";e.dataTransfer&&(e.dataTransfer.setData("text/plain",r),e.dataTransfer.effectAllowed="move")},s.ondragenter=e=>{e.preventDefault(),i=s},s.ondragover=e=>{e.preventDefault(),s.classList.remove("over-top","over-bottom");const r=s.getBoundingClientRect();e.clientY-r.top<s.clientHeight/2?s.classList.add("over-top"):s.classList.add("over-bottom")},s.ondragleave=e=>{e.preventDefault(),s.classList.remove("over-top","over-bottom")},s.ondrop=e=>{var u,d,h,p,f,v;if(e.preventDefault(),i=null,(d=(u=e==null?void 0:e.dataTransfer)==null?void 0:u.files)!=null&&d.length)return;const r=(h=e==null?void 0:e.dataTransfer)==null?void 0:h.getData("text/plain");if(!r)return;let n=s.dataset.id;s.classList.remove("over-top","over-bottom");const c=s.getBoundingClientRect();if(!(e.clientY-c.top<s.clientHeight/2)){const P=Array.from((f=(p=s.parentElement)==null?void 0:p.querySelectorAll(".task"))!=null?f:[]),j=P.findIndex(Q=>Q===s),w=j>=0?P[j+1]:void 0;n=(v=w==null?void 0:w.dataset)==null?void 0:v.id}const a=s.closest(".lane").dataset.id;Y(r,a,n)}}),t.forEach(s=>{s.ondragenter=e=>{e.preventDefault(),s.classList.add("over"),i=s},s.ondragover=e=>{e.preventDefault(),s.classList.add("over")},s.ondragleave=e=>{e.preventDefault(),s.style.border="",s.classList.remove("over")},s.ondrop=e=>{var c,l,a;if(e.preventDefault(),(l=(c=e==null?void 0:e.dataTransfer)==null?void 0:c.files)!=null&&l.length||(s.classList.remove("over"),i!==s))return;i=null;const r=(a=e==null?void 0:e.dataTransfer)==null?void 0:a.getData("text/plain");if(!r)return;const n=s.dataset.id;Y(r,n)}})}
